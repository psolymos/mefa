<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="An object of class 'mefa' is a compendium of a crosstabulated taxa-by-samples (count) data, and optionally (count) data for segments, and linked tables for samples and taxa. The 'mefa' term stand for an acronym of 'metafaunistics', indicating that data processing is a critical and often time consuming step before data analysis. The 'mefa' package aims to help in this respect."><title>Create an Object of Class 'mefa' — mefa • mefa</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create an Object of Class 'mefa' — mefa"><meta property="og:description" content="An object of class 'mefa' is a compendium of a crosstabulated taxa-by-samples (count) data, and optionally (count) data for segments, and linked tables for samples and taxa. The 'mefa' term stand for an acronym of 'metafaunistics', indicating that data processing is a critical and often time consuming step before data analysis. The 'mefa' package aims to help in this respect."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script src="https://cdn.usefathom.com/script.js" data-site="KTMJHUPR" defer></script><link rel="icon" href="https://peter.solymos.org/favicon.ico"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">mefa</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.2-9</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://www.linkedin.com/in/peter-solymos/" aria-label="Linkedin">
    <span class="fa fa-linkedin"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://twitter.com/psolymos" aria-label="Twitter">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/psolymos" aria-label="GitHub">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Create an Object of Class 'mefa'</h1>
      
      <div class="d-none name"><code>mefa.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>An object of class 'mefa' is a compendium of a crosstabulated taxa-by-samples (count) data, and optionally (count) data for segments, and linked tables for samples and taxa. The 'mefa' term stand for an acronym of '<strong>me</strong>ta<strong>fa</strong>unistics', indicating that data processing is a critical and often time consuming step before data analysis. The 'mefa' package aims to help in this respect.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mefa</span><span class="op">(</span><span class="va">xtab</span>, samp <span class="op">=</span> <span class="cn">NULL</span>, taxa <span class="op">=</span> <span class="cn">NULL</span>, id.samp <span class="op">=</span> <span class="cn">NULL</span>, id.taxa <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>segment <span class="op">=</span> <span class="cn">TRUE</span>, nested <span class="op">=</span> <span class="cn">FALSE</span>, drop.zero <span class="op">=</span> <span class="cn">FALSE</span>, drop.index <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>xtab.fixed <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co"># S3 method for mefa</span></span>
<span><span class="fu">is</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co"># S3 method for mefa</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, nlist <span class="op">=</span> <span class="fl">10</span>, <span class="va">...</span><span class="op">)</span></span>
<span><span class="co"># S3 method for mefa</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">object</span>, nlist <span class="op">=</span> <span class="fl">10</span>, <span class="va">...</span><span class="op">)</span></span>
<span><span class="co"># S3 method for summary.mefa</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">nlist</span>, <span class="va">...</span><span class="op">)</span></span>
<span><span class="co"># S3 method for mefa</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co"># S3 method for mefa</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dimnames.html" class="external-link">dimnames</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>xtab</dt>
<dd><p>data. Can be an object of class 'stcs', or a matrix or data frame. Can be count (integer) or non-integer.</p></dd>

  <dt>samp</dt>
<dd><p>a data frame containing rows for samples, or <code>NULL</code>. See argument <code>xtab.fixed</code> and details for sample matching options.</p></dd>

  <dt>taxa</dt>
<dd><p>a data frame containing rows for taxa, or <code>NULL</code>. See argument <code>xtab.fixed</code> and details for taxa matching options.</p></dd>

  <dt>id.samp</dt>
<dd><p><code>NULL</code> if sample names for matching are the rownames of <code>samp</code>, otherwise, the index refers to the column of <code>samp</code> where the names are located.</p></dd>

  <dt>id.taxa</dt>
<dd><p><code>NULL</code> if taxa names for matching are the rownames of <code>taxa</code>, otherwise, the index refers to the column of <code>taxa</code> where the names are located.</p></dd>

  <dt>segment</dt>
<dd><p>logical, whether information in the segments column of the 'stcs' object should be used (<code>TRUE</code>, default). It has no effect when <code>xtab</code> is matrix or data frame.</p></dd>

  <dt>nested</dt>
<dd><p>logical, whether segments should be nested within each other from the first to the last (<code>TRUE</code>) or not (<code>FALSE</code>, default).</p></dd>

  <dt>drop.zero</dt>
<dd><p>logical, if <code>TRUE</code> empty samples are removed from the result (can be useful before multivariate analyses). Otherwise, empty rows are left intact (<code>FALSE</code>, default).</p></dd>

  <dt>drop.index</dt>
<dd><p>logical, whether columns of the samples and taxa tables containing the names used for matching should be removed (<code>TRUE</code>) to reduce redundancy or not (<code>FALSE</code>, default). This argument has effect only if <code>id.samp</code> and <code>id.taxa</code> are not <code>NULL</code>.</p></dd>

  <dt>xtab.fixed</dt>
<dd><p>logical, if <code>TRUE</code> (default) the <code>samp</code> and <code>taxa</code> tables are subsetted and ordered according to the names of <code>xtab</code>. If <code>FALSE</code>, <code>xtab</code> is also subsetted according to the intersect of the names. Row and column ordering is determined by <code>xtab</code> in either cases.</p></dd>

  <dt>x, object</dt>
<dd><p>an object of class 'mefa'.</p></dd>

  <dt>nlist</dt>
<dd><p>number of elements in the list of segment names to print. List of segment names is truncated at 10 by default.</p></dd>

  <dt>...</dt>
<dd><p>other arguments passed to functions.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Main goals of the <code>mefa</code> function are to (1) convert a long formatted object of 'stcs' into a crosstabulated and optionally segmented 'mefa' object and (2) link this crosstabulation with tables of samples and taxa. The segments can be nested within each other. This feature can be useful, if segments represent e.g. subsequent sampling periods (years) and the the aim is to detect effects of data accumulation over time.</p>
<p>A mefa object can be viewed as a project oriented compendium of the data. It contains 3 dimensional (samples, taxa, segments) representation of the count data and data tables for samples and taxa. Segments contain information on some particular internal division of the data (sub populations, method specific partitions, repeated measures), but it has technical significance. Thus data tables for segments are not supported.</p>
<p>Input values may contain non-integer values as well.</p>
<p>If the input <code>xtab</code> is a matrix, dimnames are necessary if either <code>samp</code> or <code>taxa</code> tables are provided. In other cases, dimnames are not necessary. In this way, simple statistics can be returned for the matrix.</p>
<p>The print method returns basic information, instead of a long structural representation.</p>
<p>The summary contains statistics calculated from the 'mefa' object (species richness, number of individuals, occupancy, abundance, total sum, matrix fill, etc., see 'Value' section). The list can be recalled by e.g. <code>unclass(summary(x))</code>, elements of the list e.g. <code>summary(x)$s.rich</code>.</p>
<p>Methods for extracting, subsetting, plotting and reporting 'mefa' objects are discussed elsewhere (see links in 'See also' section). On how the 'mefa' objects can be used in further analyses, see 'Examples' and the vignette (<code>vignette("mefa")</code>).</p>
<p>When the <code>as.mefa</code> function is used with a 'mefa' object as argument, samples and taxa tables are used when <code>samp</code> and <code>taxa</code> arguments are missing. If the aim is to redefine these tables, those also can be given.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>The <code>mefa</code> function returns an object of class 'mefa'. It is a list with 5 elements:</p>
<dl><dt>call</dt>
<dd><p>the function call.</p></dd>

  <dt>xtab</dt>
<dd><p>crosstabulated count data, rows are samples, columns are taxa.</p></dd>

  <dt>segm</dt>
<dd><p>list of matrices if segments are used, otherwise <code>NULL</code>.</p></dd>

  <dt>samp</dt>
<dd><p>a data frame for sample related data (rows correspond to samples) if provided, otherwise <code>NULL</code>.</p></dd>

  <dt>taxa</dt>
<dd><p>a data frame for taxa related data (rows correspond to taxa) if provided, otherwise <code>NULL</code>.</p></dd>



</dl><p>The <code>summary.mefa</code> function returns a list invisibly, with elements:</p>
<p></p>
<p><code>s.rich</code>: vector with species richness values for the samples,</p>
<p></p>
<p><code>s.abu</code>: vector with number of individuals values for the samples,</p>
<p></p>
<p><code>t.occ</code>: number of sites occupied by each species,</p>
<p></p>
<p><code>t.abu</code>: abundances of each species,</p>
<p></p>
<p><code>ntot</code>: total number of individuals,</p>
<p></p>
<p><code>mfill</code>: matrix fill,</p>
<p></p>
<p><code>nsamp</code>: number of samples,</p>
<p></p>
<p><code>ntaxa</code>: number of taxa,</p>
<p></p>
<p><code>nsegm</code>: number of segments,</p>
<p></p>
<p><code>segment</code>: vector of segment names,</p>
<p></p>
<p><code>call</code>: the function call from the 'mefa' object,</p>
<p></p>
<p><code>nested, drop.zero, xtab.fixed</code>: attributes of the 'mefa' object.</p>


<p>The method <code>dim</code> returns a vector of length 3 with values for number of samples, number of taxa and number of segments in the 'mefa' object. The third value is 1 in cases, when <code>s$segm</code> is <code>NULL</code> (because it is 1 undefined segment essentially identical to the matrix <code>x$xtab</code>, thus no need for a replicate).</p>


<p>The <code>dimnames</code> method returns a list of three character vectors for names of samples, taxa and segments. These can be <code>NULL</code> as well.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>S\'olymos P. (2008) mefa: an R package for handling and reporting count data. <em>Community Ecology</em> <b>9</b>, 125--127.</p>
<p>S\'olymos P. (2009) Processing ecological data in R with the mefa package. <em>Journal of Statistical Software</em> <b>29(8)</b>, 1--28. <a href="https://doi.org/10.18637/jss.v029.i08" class="external-link">doi:10.18637/jss.v029.i08</a></p>
<p><a href="http://mefa.r-forge.r-project.org/" class="external-link">http://mefa.r-forge.r-project.org/</a></p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>P\'eter S\'olymos, <a href="mailto:solymos@ualberta.ca">solymos@ualberta.ca</a></p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>The <code>mefa</code> function alone can be used instead of the combination of object classes <code>xcount</code> and <code>xorder</code> used in older (&lt; 2.0) versions of the <strong>mefa</strong> package. Further it is also extended by previously undocumented features.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Further methods are discussed on separate help pages: see <code><a href="aggregate.mefa.html">[.mefa</a></code> and <code><a href="aggregate.mefa.html">aggregate.mefa</a></code> for extracting and aggregating the data, <code><a href="melt.mefa.html">melt.mefa</a></code> for redefining segments or melting data into long format, <code><a href="report.mefa.html">report.mefa</a></code> for generating report into file, and <code><a href="plot.mefa.html">plot.mefa</a></code> <code><a href="plot.mefa.html">boxplot.mefa</a></code> and <code><a href="plot.mefa.html">image.mefa</a></code> for graphical display.</p>
<p>See <code><a href="as.mefa.html">as.mefa</a></code> for coercion methods.</p>
<p>See <code><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></code> and <code><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></code> functions.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">dol.count</span>, <span class="va">dol.samp</span>, <span class="va">dol.taxa</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## Input is stcs</span></span></span>
<span class="r-in"><span><span class="va">x1</span> <span class="op">&lt;-</span> <span class="fu">mefa</span><span class="op">(</span><span class="fu"><a href="stcs.html">stcs</a></span><span class="op">(</span><span class="va">dol.count</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x1</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> An object of class 'mefa' containing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ xtab: 731 individuals of 28 taxa in 24 samples,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ segm: 2 (non-nested) segments:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          fresh, broken,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ samp: table for samples not provided,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ taxa: table for taxa not provided.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co">## Input is matrix</span></span></span>
<span class="r-in"><span><span class="va">x2</span> <span class="op">&lt;-</span> <span class="fu">mefa</span><span class="op">(</span><span class="va">x1</span><span class="op">$</span><span class="va">xtab</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x2</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> An object of class 'mefa' containing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ xtab: 731 individuals of 28 taxa in 24 samples,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ segm: 1 (all inclusive) segment,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ samp: table for samples not provided,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ taxa: table for taxa not provided.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co">## Attach data frame for samples</span></span></span>
<span class="r-in"><span><span class="va">x3</span> <span class="op">&lt;-</span> <span class="fu">mefa</span><span class="op">(</span><span class="fu"><a href="stcs.html">stcs</a></span><span class="op">(</span><span class="va">dol.count</span><span class="op">)</span>, <span class="va">dol.samp</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x3</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> An object of class 'mefa' containing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ xtab: 731 individuals of 28 taxa in 24 samples,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ segm: 2 (non-nested) segments:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          fresh, broken,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ samp: table for samples provided (2 variables),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ taxa: table for taxa not provided.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co">## Attach data frame for samples and taxa</span></span></span>
<span class="r-in"><span><span class="va">x4</span> <span class="op">&lt;-</span> <span class="fu">mefa</span><span class="op">(</span><span class="fu"><a href="stcs.html">stcs</a></span><span class="op">(</span><span class="va">dol.count</span><span class="op">)</span>, <span class="va">dol.samp</span>, <span class="va">dol.taxa</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x4</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> An object of class 'mefa' containing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ xtab: 731 individuals of 28 taxa in 24 samples,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ segm: 2 (non-nested) segments:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          fresh, broken,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ samp: table for samples provided (2 variables),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ taxa: table for taxa provided (4 variables).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co">## Methods</span></span></span>
<span class="r-in"><span><span class="co">## (chapter 'See also' provides</span></span></span>
<span class="r-in"><span><span class="co">## links for further methods)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">x4</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mefa(xtab = stcs(dol.count), samp = dol.samp, taxa = dol.taxa)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    Summary</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Total sum              731</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Matrix fill (%)         26</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of samples       24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of taxa          28</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of segments       2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Segments (non-nested):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> fresh, broken</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            s.rich    s.abu     t.occ     t.abu</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Min.     0.000000  0.00000  1.000000   1.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1st Qu.  5.000000  9.75000  2.000000   4.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Median   7.000000 20.50000  4.500000  10.50000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mean     7.333333 30.45833  6.285714  26.10714</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3rd Qu. 10.000000 44.75000 10.000000  27.75000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Max.    16.000000 97.00000 23.000000 245.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co">## Descriptives inside the summary</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">unclass</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">x4</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $s.rich</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DQ1 DQ2 DQ3 DT1 DT2 DT3 LQ1 LQ2 LQ3 LT1 LT2 LT3 RQ1 RQ2 RQ3 RT1 RT2 RT3 WQ1 WQ2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5   7   4   7  10   5   5   5   7   0   2   5  10  16  13  11  15  10   9  10 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> WQ3 WT1 WT2 WT3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   8   5   4   3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $s.abu</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DQ1 DQ2 DQ3 DT1 DT2 DT3 LQ1 LQ2 LQ3 LT1 LT2 LT3 RQ1 RQ2 RQ3 RT1 RT2 RT3 WQ1 WQ2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  18  39   9  11  13  13  34  17  82   0   2  10  23  97  63  44  47  30  48  90 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> WQ3 WT1 WT2 WT3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  24   5   6   6 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $t.occ</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> aacu amin apur bbip bcan ccer clam cort ctri dbre dper druf eful estr ffau hobv </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3   23    7   12    3    4    3    5    5    2   15    2    1    8   10   10 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> iiso mbor mobs odol ogla pinc ppyg pvic tuni vcos vicr vidi </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4    1    3    1    2    7   10   13    8    1    1   12 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $t.abu</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> aacu amin apur bbip bcan ccer clam cort ctri dbre dper druf eful estr ffau hobv </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4   86    8   25    3    5    4    7   40    4   56    3    2   14   36   37 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> iiso mbor mobs odol ogla pinc ppyg pvic tuni vcos vicr vidi </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   17    5    5   13    4   16  245   18   17    2    1   54 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ntot</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 731</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $mfill</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.2619048</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $nsamp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ntaxa</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 28</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $nsegm</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $segment</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "fresh"  "broken"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $call</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mefa(xtab = stcs(dol.count), samp = dol.samp, taxa = dol.taxa)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $nested</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $drop.zero</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $xtab.fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"nlist")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 10</span>
<span class="r-in"><span><span class="co">## Testing mefa objects</span></span></span>
<span class="r-in"><span><span class="fu">is</span><span class="op">(</span><span class="va">x4</span>, <span class="st">"mefa"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span><span class="co">## Removing empty samples</span></span></span>
<span class="r-in"><span><span class="fu"><a href="as.mefa.html">as.mefa</a></span><span class="op">(</span><span class="va">x4</span>, drop.zero <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> An object of class 'mefa' containing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ xtab: 731 individuals of 28 taxa in 23 samples,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ segm: 2 (non-nested) segments:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          broken, fresh,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ samp: table for samples provided (2 variables),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ taxa: table for taxa provided (4 variables).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co">## Dimensions</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">x4</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 24 28  2</span>
<span class="r-in"><span><span class="co">## Dimnames</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/dimnames.html" class="external-link">dimnames</a></span><span class="op">(</span><span class="va">x4</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $samp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "DQ1" "DQ2" "DQ3" "DT1" "DT2" "DT3" "LQ1" "LQ2" "LQ3" "LT1" "LT2" "LT3"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13] "RQ1" "RQ2" "RQ3" "RT1" "RT2" "RT3" "WQ1" "WQ2" "WQ3" "WT1" "WT2" "WT3"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $taxa</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "aacu" "amin" "apur" "bbip" "bcan" "ccer" "clam" "cort" "ctri" "dbre"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] "dper" "druf" "eful" "estr" "ffau" "hobv" "iiso" "mbor" "mobs" "odol"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [21] "ogla" "pinc" "ppyg" "pvic" "tuni" "vcos" "vicr" "vidi"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $segm</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "fresh"  "broken"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co">## Simple examples how to use mefa objects in analyis</span></span></span>
<span class="r-in"><span><span class="co">## GLM on sample abundances</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">x4</span><span class="op">)</span><span class="op">$</span><span class="va">s.abu</span> <span class="op">~</span> <span class="va">.</span><span class="op">^</span><span class="fl">2</span>,</span></span>
<span class="r-in"><span>    data <span class="op">=</span> <span class="va">x4</span><span class="op">$</span><span class="va">samp</span>, family <span class="op">=</span> <span class="va">quasipoisson</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> glm(formula = summary(x4)$s.abu ~ .^2, family = quasipoisson, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     data = x4$samp)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                 Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)                       2.5123     0.5476   4.588 0.000303 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> microhablitter                   -1.1260     1.1066  -1.018 0.324035    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> microhablive.wood                -0.7777     0.9760  -0.797 0.437229    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> microhabrock                      1.1849     0.6258   1.893 0.076532 .  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> methodquadrat                     0.5787     0.6841   0.846 0.410055    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> microhablitter:methodquadrat      1.8267     1.2150   1.504 0.152187    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> microhablive.wood:methodquadrat   1.6756     1.0905   1.537 0.143944    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> microhabrock:methodquadrat       -0.1650     0.7876  -0.210 0.836672    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Dispersion parameter for quasipoisson family taken to be 11.09643)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Null deviance: 574.42  on 23  degrees of freedom</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Residual deviance: 182.64  on 16  degrees of freedom</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AIC: NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of Fisher Scoring iterations: 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co">## See the demo and vignette for more examples</span></span></span>
<span class="r-in"><span><span class="co"># demo(mefa)</span></span></span>
<span class="r-in"><span><span class="co"># vignette("mefa")</span></span></span>
<span class="r-in"><span><span class="co">## Cluster analysis of community matrix</span></span></span>
<span class="r-in"><span><span class="va">x5</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/aggregate.html" class="external-link">aggregate</a></span><span class="op">(</span><span class="va">x4</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"method"</span>, <span class="st">"microhab"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">h</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/hclust.html" class="external-link">hclust</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/dist.html" class="external-link">dist</a></span><span class="op">(</span><span class="va">x5</span><span class="op">$</span><span class="va">xtab</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">h</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="mefa-1.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Peter Solymos.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

